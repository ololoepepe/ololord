<% c++ #include "controller/home.h" %>
<% skin my_skin %>
<% view home uses Content::Home extends base %>

<% template render() %>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <% include baseHead() %>
        <% include settingsHead() %>
        <% include searchActionHead() %>
        <link rel="stylesheet" type="text/css" href="/<%= sitePathPrefix %>css/<%= style.name %>.css">
    </head>
    <body onload="javascript:initializeOnLoadSettings();">
        <% include settingsTexts() %>
        <% include settings() %>
        <br />
        <% include navbar() %>
        <% if ( !content.searchApiKey.empty() ) %>
            <br />
        <% end %>
        <% include searchAction("Top") %>
        <div class="theTitle">
            <h1><%= welcomeMessage %></h1>
        </div>
        <% if ( !content.rules.empty() ) %>
            <div class="sectionHeader">
                <h3><%= rulesHeader %></h3>
            </div>
            <div class="rules">
                <ol>
                <% foreach rule in rules %>
                     <% item %>
                        <li>
                            <%= rule | raw %>
                        </li>
                    <% end %>
                <% end %>
                </ol>
            </div>
        <% end %>
        <% if ( !content.news.empty() ) %>
            <div class="sectionHeader">
                <h3><%= newsHeader %></h3>
            </div>
            <div class="rules">
                <ul>
                <% foreach n in news %>
                     <% item %>
                        <li>
                            <%= n | raw %>
                        </li>
                    <% end %>
                <% end %>
                </ul>
            </div>
        <% end %>
    </body>
</html>
<% end template %>

<% end view %>
<% end skin %>
